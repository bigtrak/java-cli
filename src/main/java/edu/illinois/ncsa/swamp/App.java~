package edu.illinois.ncsa.swamp;

import java.util.List;
import edu.uiuc.ncsa.swamp.util.HandlerFactoryUtil;
import edu.uiuc.ncsa.swamp.api.Project;
import edu.uiuc.ncsa.swamp.api.User;

/**
 * List all projects for the user.
 *
 */
public class App 
{
    public static void main( String[] args )
    {
        // args[0] = username
        // args[1] = password
        System.out.println(args[0]);
        System.out.println(args[1]);
      try{
        // logon
        HandlerFactoryUtil.createPDHandlerFactory(args[0],args[1]);

        // get some information about the current user.
        User user = HandlerFactoryUtil.getUserH().getCurrentUser();
        String uuid = user.getUUIDString();
        System.out.println("User = " + user);

        // list projects for the current user.
        List<? extends Project> projects =  HandlerFactoryUtil.getProjectH().getAll();
        for(Project project : projects){
             System.out.println(project);
        }

        // All done. logout.
        HandlerFactoryUtil.shutdown();
      }catch(Throwable t){
         t.printStackTrace();
      }
    }
}
